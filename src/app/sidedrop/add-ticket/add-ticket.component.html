<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
  integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
  crossorigin="anonymous"
/>
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
/>
<div class="main-wrapper">
  <div class="page-wrapper">
    <div class="page-content">
      <div class="card">
        <div class="card-header">Create New Ticket</div>
        <div class="card-body">
          <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
            <div class="form-group row">
              <label for="inputPassword" class="col-sm-2 col-form-label">
                Ticket Subject</label
              >
              <div class="col-sm-10">
                <input
                  type="text"
                  formControlName="title"
                  class="form-control"
                  [ngClass]="{
                    'is-invalid': submitted && f.title.errors
                  }"
                />
                <div
                  *ngIf="submitted && f.title.errors"
                  class="invalid-feedback"
                >
                  <div *ngIf="f.ticketsubject.errors.required">
                    Ticket Subject is required
                  </div>
                </div>
              </div>
            </div>
            <div class="form-group row">
              <label for="inputPassword" class="col-sm-2 col-form-label"
                >Priority</label
              >
              <div class="col-sm-10">
                <select
                  class="custom-select custom-select-sm"
                  formControlName="priority"
                  [ngClass]="{ 'is-invalid': submitted && f.priority.errors }"
                >
                  <option value="1">Low</option>
                  <option value="2">Medium</option>
                  <option value="3">High</option>
                  <option selected="4">Urgent</option>
                </select>
                <div
                  *ngIf="submitted && f.priority.errors"
                  class="invalid-feedback"
                >
                  <div *ngIf="f.priority.errors.required">
                    Priority is required
                  </div>
                </div>
              </div>
            </div>
            <div class="form-group row">
              <label for="inputPassword" class="col-sm-2 col-form-label"
                >Ticket Category</label
              >
              <div class="col-sm-10">
                <select
                  class="custom-select custom-select-sm"
                  formControlName="catid"
                  [ngClass]="{
                    'is-invalid': submitted && f.catid.errors
                  }"
               
                   >
                  <option value="">Choose your category</option>
                  <option
                    *ngFor="let item of category;  let i = index">
                 
                    
                
                    {{ item.name }}
                  </option> 
                </select>
                <div
                  *ngIf="submitted && f.catid.errors"
                  class="invalid-feedback"
                >
                  <div *ngIf="f.catid.errors.required">
                    Ticket Category is required
                  </div>
                </div>
              </div>
            </div>

            <div class="NgxEditor__Wrapper">
              <ngx-editor-menu [editor]="editor" [toolbar]="toolbar">
              </ngx-editor-menu>
              <ngx-editor [editor]="editor"  formControlName="ticket_body"></ngx-editor>
            </div>

            <h6 clasa="attachtxt">Attach muliple File</h6>
            <!-- <div class="row" *ngFor="let item of text;let i = index;">  -->
            <div class="col-md-10">
              <input 
              formControlName="user_file"
              id="file" 
              type="file" 
              class="form-control"
              (change)="onFileChange($event)">
              <div class="text">
                <div>
                  <!-- <div *ngIf="i == 0" (click)="addContact()" class="btn btn-lg" style="background-color:transparent;">
            <button type="button" class="btn btn-info">Add ticket</button>
           </div>
            <div *ngIf="i > 0" (click)="remContact(1)"
             class='btn btn-lg ' style='background-color:transparent;'><div style='text-align:center;'>
              <button type="button" class="btn btn-secondary">remove </button>
          </div>
      </div> -->
                </div>
              </div>
            </div>

            <button type="submit" class="btn btn-outline-info"  >
              Create ticket
            </button>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
